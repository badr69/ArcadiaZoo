{% extends "base.html" %}

{% block title %}list all Services{% endblock %}

{% block content %}
    <div>
    {% if current_user.is_authenticated %}
        {% if current_user.role_name == 'admin' %}
            <p>Welcome  {{ current_user.username }} ðŸ‘‘</p>
            <a href="{{ url_for('admin.admin_dash') }}" class="btn btn-dark mb-3">Admin Dash</a>
        {% elif current_user.role_name == 'employee' %}
            <p>Welcome  {{ current_user.username }} ðŸ‘Œ</p>
            <a href="{{ url_for('employee.employee_dash') }}" class="btn btn-dark mb-3">Employee Dash</a>
        {% else %}
            <p>Welcome {{ current_user.username }}</p>
        {% endif %}
        <a href="{{ url_for('auth.logout') }}" class="btn btn-danger mb-3">Logout</a>
    {% else %}
        <p>You are not cennevted.</p>
        <a href="{{ url_for('auth.login') }}" class="btn btn-success mb-3">Login</a>
    {% endif %}
     </div>
{#    <div>#}
{#        {% if current_user.is_authenticated and current_user.role_name == "employee" %}#}
{#            <p class="employee-connected">{{ current_user.username }}ðŸ‘Œ</p>#}
{#        {% endif %}#}
{#        <a href="{{ url_for('employee.employee_dash') }}" class="btn btn-secondary mb-3">employee dash</a>#}
{#        <a href="{{ url_for('auth.logout') }}" class="btn btn-danger mb-3">Logout</a>#}
{#    </div>#}

    <h2 class="mb-4 text-center">List All Services</h2>
    <div>
        <a href="{{ url_for('service.create_service') }}" class="btn btn-primary mb-3">Create User</a>
    </div>
    <table class="table table-striped table-bordered">
        <thead class="table-dark">
        <tr>
            <th>id</th>
            <th>Name service</th>
            <th>url_image</th>
            <th>description</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for service in services %}
            <tr>
                <td>{{ service.id }}</td>
                <td>{{ service.name }}</td>
                <td>{{ service.url_image }}</td>
                <td>{{ service.description }}</td>

                <td>
                    <a href="{{ url_for('service.update_service', service_id=service.id) }}"
                       class="btn btn-warning btn-sm">Update</a>
                    <form action="{{ url_for('service.delete_service', service_id=service.id) }}" method="POST"
                          style="display:inline;">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                        <button type="submit" class="btn btn-danger btn-sm"
                                onclick="return confirm('ÃŠtes-vous sÃ»r de vouloir supprimer cet utilisateur ?');">
                            Supprimer
                        </button>
                    </form>
                    <a href="{{ url_for('service.get_service_by_id', service_id=service.id) }}"
                       class="btn btn-warning btn-sm">Details</a>

                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5" class="text-center">No service</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}









